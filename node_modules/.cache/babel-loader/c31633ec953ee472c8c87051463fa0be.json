{"ast":null,"code":"/**\n * Remove an element from the dom\n *\n * @category Manipulation\n * @param elem The element to be removed\n */\nexport function removeElement(elem) {\n  if (elem.prev) elem.prev.next = elem.next;\n  if (elem.next) elem.next.prev = elem.prev;\n\n  if (elem.parent) {\n    const childs = elem.parent.children;\n    childs.splice(childs.lastIndexOf(elem), 1);\n  }\n}\n/**\n * Replace an element in the dom\n *\n * @category Manipulation\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\n\nexport function replaceElement(elem, replacement) {\n  const prev = replacement.prev = elem.prev;\n\n  if (prev) {\n    prev.next = replacement;\n  }\n\n  const next = replacement.next = elem.next;\n\n  if (next) {\n    next.prev = replacement;\n  }\n\n  const parent = replacement.parent = elem.parent;\n\n  if (parent) {\n    const childs = parent.children;\n    childs[childs.lastIndexOf(elem)] = replacement;\n    elem.parent = null;\n  }\n}\n/**\n * Append a child to an element.\n *\n * @category Manipulation\n * @param elem The element to append to.\n * @param child The element to be added as a child.\n */\n\nexport function appendChild(elem, child) {\n  removeElement(child);\n  child.next = null;\n  child.parent = elem;\n\n  if (elem.children.push(child) > 1) {\n    const sibling = elem.children[elem.children.length - 2];\n    sibling.next = child;\n    child.prev = sibling;\n  } else {\n    child.prev = null;\n  }\n}\n/**\n * Append an element after another.\n *\n * @category Manipulation\n * @param elem The element to append after.\n * @param next The element be added.\n */\n\nexport function append(elem, next) {\n  removeElement(next);\n  const {\n    parent\n  } = elem;\n  const currNext = elem.next;\n  next.next = currNext;\n  next.prev = elem;\n  elem.next = next;\n  next.parent = parent;\n\n  if (currNext) {\n    currNext.prev = next;\n\n    if (parent) {\n      const childs = parent.children;\n      childs.splice(childs.lastIndexOf(currNext), 0, next);\n    }\n  } else if (parent) {\n    parent.children.push(next);\n  }\n}\n/**\n * Prepend a child to an element.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param child The element to be added as a child.\n */\n\nexport function prependChild(elem, child) {\n  removeElement(child);\n  child.parent = elem;\n  child.prev = null;\n\n  if (elem.children.unshift(child) !== 1) {\n    const sibling = elem.children[1];\n    sibling.prev = child;\n    child.next = sibling;\n  } else {\n    child.next = null;\n  }\n}\n/**\n * Prepend an element before another.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\n\nexport function prepend(elem, prev) {\n  removeElement(prev);\n  const {\n    parent\n  } = elem;\n\n  if (parent) {\n    const childs = parent.children;\n    childs.splice(childs.indexOf(elem), 0, prev);\n  }\n\n  if (elem.prev) {\n    elem.prev.next = prev;\n  }\n\n  prev.parent = parent;\n  prev.prev = elem.prev;\n  prev.next = elem;\n  elem.prev = prev;\n}","map":{"version":3,"mappings":"AAEA;;;;;;AAMA,OAAM,SAAUA,aAAV,CAAwBC,IAAxB,EAAuC;EACzC,IAAIA,IAAI,CAACC,IAAT,EAAeD,IAAI,CAACC,IAAL,CAAUC,IAAV,GAAiBF,IAAI,CAACE,IAAtB;EACf,IAAIF,IAAI,CAACE,IAAT,EAAeF,IAAI,CAACE,IAAL,CAAUD,IAAV,GAAiBD,IAAI,CAACC,IAAtB;;EAEf,IAAID,IAAI,CAACG,MAAT,EAAiB;IACb,MAAMC,MAAM,GAAGJ,IAAI,CAACG,MAAL,CAAYE,QAA3B;IACAD,MAAM,CAACE,MAAP,CAAcF,MAAM,CAACG,WAAP,CAAmBP,IAAnB,CAAd,EAAwC,CAAxC;EACH;AACJ;AAED;;;;;;;;AAOA,OAAM,SAAUQ,cAAV,CAAyBR,IAAzB,EAA0CS,WAA1C,EAAgE;EAClE,MAAMR,IAAI,GAAIQ,WAAW,CAACR,IAAZ,GAAmBD,IAAI,CAACC,IAAtC;;EACA,IAAIA,IAAJ,EAAU;IACNA,IAAI,CAACC,IAAL,GAAYO,WAAZ;EACH;;EAED,MAAMP,IAAI,GAAIO,WAAW,CAACP,IAAZ,GAAmBF,IAAI,CAACE,IAAtC;;EACA,IAAIA,IAAJ,EAAU;IACNA,IAAI,CAACD,IAAL,GAAYQ,WAAZ;EACH;;EAED,MAAMN,MAAM,GAAIM,WAAW,CAACN,MAAZ,GAAqBH,IAAI,CAACG,MAA1C;;EACA,IAAIA,MAAJ,EAAY;IACR,MAAMC,MAAM,GAAGD,MAAM,CAACE,QAAtB;IACAD,MAAM,CAACA,MAAM,CAACG,WAAP,CAAmBP,IAAnB,CAAD,CAAN,GAAmCS,WAAnC;IACAT,IAAI,CAACG,MAAL,GAAc,IAAd;EACH;AACJ;AAED;;;;;;;;AAOA,OAAM,SAAUO,WAAV,CAAsBV,IAAtB,EAAqCW,KAArC,EAAqD;EACvDZ,aAAa,CAACY,KAAD,CAAb;EAEAA,KAAK,CAACT,IAAN,GAAa,IAAb;EACAS,KAAK,CAACR,MAAN,GAAeH,IAAf;;EAEA,IAAIA,IAAI,CAACK,QAAL,CAAcO,IAAd,CAAmBD,KAAnB,IAA4B,CAAhC,EAAmC;IAC/B,MAAME,OAAO,GAAGb,IAAI,CAACK,QAAL,CAAcL,IAAI,CAACK,QAAL,CAAcS,MAAd,GAAuB,CAArC,CAAhB;IACAD,OAAO,CAACX,IAAR,GAAeS,KAAf;IACAA,KAAK,CAACV,IAAN,GAAaY,OAAb;EACH,CAJD,MAIO;IACHF,KAAK,CAACV,IAAN,GAAa,IAAb;EACH;AACJ;AAED;;;;;;;;AAOA,OAAM,SAAUc,MAAV,CAAiBf,IAAjB,EAAkCE,IAAlC,EAAiD;EACnDH,aAAa,CAACG,IAAD,CAAb;EAEA,MAAM;IAAEC;EAAF,IAAaH,IAAnB;EACA,MAAMgB,QAAQ,GAAGhB,IAAI,CAACE,IAAtB;EAEAA,IAAI,CAACA,IAAL,GAAYc,QAAZ;EACAd,IAAI,CAACD,IAAL,GAAYD,IAAZ;EACAA,IAAI,CAACE,IAAL,GAAYA,IAAZ;EACAA,IAAI,CAACC,MAAL,GAAcA,MAAd;;EAEA,IAAIa,QAAJ,EAAc;IACVA,QAAQ,CAACf,IAAT,GAAgBC,IAAhB;;IACA,IAAIC,MAAJ,EAAY;MACR,MAAMC,MAAM,GAAGD,MAAM,CAACE,QAAtB;MACAD,MAAM,CAACE,MAAP,CAAcF,MAAM,CAACG,WAAP,CAAmBS,QAAnB,CAAd,EAA4C,CAA5C,EAA+Cd,IAA/C;IACH;EACJ,CAND,MAMO,IAAIC,MAAJ,EAAY;IACfA,MAAM,CAACE,QAAP,CAAgBO,IAAhB,CAAqBV,IAArB;EACH;AACJ;AAED;;;;;;;;AAOA,OAAM,SAAUe,YAAV,CAAuBjB,IAAvB,EAAsCW,KAAtC,EAAsD;EACxDZ,aAAa,CAACY,KAAD,CAAb;EAEAA,KAAK,CAACR,MAAN,GAAeH,IAAf;EACAW,KAAK,CAACV,IAAN,GAAa,IAAb;;EAEA,IAAID,IAAI,CAACK,QAAL,CAAca,OAAd,CAAsBP,KAAtB,MAAiC,CAArC,EAAwC;IACpC,MAAME,OAAO,GAAGb,IAAI,CAACK,QAAL,CAAc,CAAd,CAAhB;IACAQ,OAAO,CAACZ,IAAR,GAAeU,KAAf;IACAA,KAAK,CAACT,IAAN,GAAaW,OAAb;EACH,CAJD,MAIO;IACHF,KAAK,CAACT,IAAN,GAAa,IAAb;EACH;AACJ;AAED;;;;;;;;AAOA,OAAM,SAAUiB,OAAV,CAAkBnB,IAAlB,EAAmCC,IAAnC,EAAkD;EACpDF,aAAa,CAACE,IAAD,CAAb;EAEA,MAAM;IAAEE;EAAF,IAAaH,IAAnB;;EACA,IAAIG,MAAJ,EAAY;IACR,MAAMC,MAAM,GAAGD,MAAM,CAACE,QAAtB;IACAD,MAAM,CAACE,MAAP,CAAcF,MAAM,CAACgB,OAAP,CAAepB,IAAf,CAAd,EAAoC,CAApC,EAAuCC,IAAvC;EACH;;EAED,IAAID,IAAI,CAACC,IAAT,EAAe;IACXD,IAAI,CAACC,IAAL,CAAUC,IAAV,GAAiBD,IAAjB;EACH;;EAEDA,IAAI,CAACE,MAAL,GAAcA,MAAd;EACAF,IAAI,CAACA,IAAL,GAAYD,IAAI,CAACC,IAAjB;EACAA,IAAI,CAACC,IAAL,GAAYF,IAAZ;EACAA,IAAI,CAACC,IAAL,GAAYA,IAAZ;AACH","names":["removeElement","elem","prev","next","parent","childs","children","splice","lastIndexOf","replaceElement","replacement","appendChild","child","push","sibling","length","append","currNext","prependChild","unshift","prepend","indexOf"],"sourceRoot":"https://raw.githubusercontent.com/fb55/domutils/f7e357b5c210b6731c2a60e0b7b3cfaa1f96b706/src/","sources":["manipulation.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}