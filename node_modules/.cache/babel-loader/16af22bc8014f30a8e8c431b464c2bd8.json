{"ast":null,"code":"import { buildAlphaNumericPercentArbitrary } from './_internals/builders/CharacterRangeArbitraryBuilder.js';\nimport { constant } from './constant.js';\nimport { domain } from './domain.js';\nimport { ipV4 } from './ipV4.js';\nimport { ipV4Extended } from './ipV4Extended.js';\nimport { ipV6 } from './ipV6.js';\nimport { nat } from './nat.js';\nimport { oneof } from './oneof.js';\nimport { option } from './option.js';\nimport { stringOf } from './stringOf.js';\nimport { tuple } from './tuple.js';\n\nfunction hostUserInfo(size) {\n  const others = ['-', '.', '_', '~', '!', '$', '&', \"'\", '(', ')', '*', '+', ',', ';', '=', ':'];\n  return stringOf(buildAlphaNumericPercentArbitrary(others), {\n    size\n  });\n}\n\nfunction userHostPortMapper(_ref) {\n  let [u, h, p] = _ref;\n  return (u === null ? '' : `${u}@`) + h + (p === null ? '' : `:${p}`);\n}\n\nfunction userHostPortUnmapper(value) {\n  if (typeof value !== 'string') {\n    throw new Error('Unsupported');\n  }\n\n  const atPosition = value.indexOf('@');\n  const user = atPosition !== -1 ? value.substring(0, atPosition) : null;\n  const portRegex = /:(\\d+)$/;\n  const m = portRegex.exec(value);\n  const port = m !== null ? Number(m[1]) : null;\n  const host = m !== null ? value.substring(atPosition + 1, value.length - m[1].length - 1) : value.substring(atPosition + 1);\n  return [user, host, port];\n}\n\nfunction bracketedMapper(s) {\n  return `[${s}]`;\n}\n\nfunction bracketedUnmapper(value) {\n  if (typeof value !== 'string' || value[0] !== '[' || value[value.length - 1] !== ']') {\n    throw new Error('Unsupported');\n  }\n\n  return value.substring(1, value.length - 1);\n}\n\nexport function webAuthority(constraints) {\n  const c = constraints || {};\n  const size = c.size;\n  const hostnameArbs = [domain({\n    size\n  })].concat(c.withIPv4 === true ? [ipV4()] : []).concat(c.withIPv6 === true ? [ipV6().map(bracketedMapper, bracketedUnmapper)] : []).concat(c.withIPv4Extended === true ? [ipV4Extended()] : []);\n  return tuple(c.withUserInfo === true ? option(hostUserInfo(size)) : constant(null), oneof(...hostnameArbs), c.withPort === true ? option(nat(65535)) : constant(null)).map(userHostPortMapper, userHostPortUnmapper);\n}","map":{"version":3,"names":["buildAlphaNumericPercentArbitrary","constant","domain","ipV4","ipV4Extended","ipV6","nat","oneof","option","stringOf","tuple","hostUserInfo","size","others","userHostPortMapper","u","h","p","userHostPortUnmapper","value","Error","atPosition","indexOf","user","substring","portRegex","m","exec","port","Number","host","length","bracketedMapper","s","bracketedUnmapper","webAuthority","constraints","c","hostnameArbs","concat","withIPv4","withIPv6","map","withIPv4Extended","withUserInfo","withPort"],"sources":["/Users/soheilvafaei/Documents/project/web/resume/ex7/node_modules/fast-check/lib/esm/arbitrary/webAuthority.js"],"sourcesContent":["import { buildAlphaNumericPercentArbitrary } from './_internals/builders/CharacterRangeArbitraryBuilder.js';\nimport { constant } from './constant.js';\nimport { domain } from './domain.js';\nimport { ipV4 } from './ipV4.js';\nimport { ipV4Extended } from './ipV4Extended.js';\nimport { ipV6 } from './ipV6.js';\nimport { nat } from './nat.js';\nimport { oneof } from './oneof.js';\nimport { option } from './option.js';\nimport { stringOf } from './stringOf.js';\nimport { tuple } from './tuple.js';\nfunction hostUserInfo(size) {\n    const others = ['-', '.', '_', '~', '!', '$', '&', \"'\", '(', ')', '*', '+', ',', ';', '=', ':'];\n    return stringOf(buildAlphaNumericPercentArbitrary(others), { size });\n}\nfunction userHostPortMapper([u, h, p]) {\n    return (u === null ? '' : `${u}@`) + h + (p === null ? '' : `:${p}`);\n}\nfunction userHostPortUnmapper(value) {\n    if (typeof value !== 'string') {\n        throw new Error('Unsupported');\n    }\n    const atPosition = value.indexOf('@');\n    const user = atPosition !== -1 ? value.substring(0, atPosition) : null;\n    const portRegex = /:(\\d+)$/;\n    const m = portRegex.exec(value);\n    const port = m !== null ? Number(m[1]) : null;\n    const host = m !== null ? value.substring(atPosition + 1, value.length - m[1].length - 1) : value.substring(atPosition + 1);\n    return [user, host, port];\n}\nfunction bracketedMapper(s) {\n    return `[${s}]`;\n}\nfunction bracketedUnmapper(value) {\n    if (typeof value !== 'string' || value[0] !== '[' || value[value.length - 1] !== ']') {\n        throw new Error('Unsupported');\n    }\n    return value.substring(1, value.length - 1);\n}\nexport function webAuthority(constraints) {\n    const c = constraints || {};\n    const size = c.size;\n    const hostnameArbs = [domain({ size })]\n        .concat(c.withIPv4 === true ? [ipV4()] : [])\n        .concat(c.withIPv6 === true ? [ipV6().map(bracketedMapper, bracketedUnmapper)] : [])\n        .concat(c.withIPv4Extended === true ? [ipV4Extended()] : []);\n    return tuple(c.withUserInfo === true ? option(hostUserInfo(size)) : constant(null), oneof(...hostnameArbs), c.withPort === true ? option(nat(65535)) : constant(null)).map(userHostPortMapper, userHostPortUnmapper);\n}\n"],"mappings":"AAAA,SAASA,iCAAT,QAAkD,yDAAlD;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,SAASC,MAAT,QAAuB,aAAvB;AACA,SAASC,IAAT,QAAqB,WAArB;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,SAASC,IAAT,QAAqB,WAArB;AACA,SAASC,GAAT,QAAoB,UAApB;AACA,SAASC,KAAT,QAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,aAAvB;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,SAASC,KAAT,QAAsB,YAAtB;;AACA,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;EACxB,MAAMC,MAAM,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,EAAwD,GAAxD,EAA6D,GAA7D,EAAkE,GAAlE,EAAuE,GAAvE,EAA4E,GAA5E,CAAf;EACA,OAAOJ,QAAQ,CAACT,iCAAiC,CAACa,MAAD,CAAlC,EAA4C;IAAED;EAAF,CAA5C,CAAf;AACH;;AACD,SAASE,kBAAT,OAAuC;EAAA,IAAX,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,CAAW;EACnC,OAAO,CAACF,CAAC,KAAK,IAAN,GAAa,EAAb,GAAmB,GAAEA,CAAE,GAAxB,IAA8BC,CAA9B,IAAmCC,CAAC,KAAK,IAAN,GAAa,EAAb,GAAmB,IAAGA,CAAE,EAA3D,CAAP;AACH;;AACD,SAASC,oBAAT,CAA8BC,KAA9B,EAAqC;EACjC,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;IAC3B,MAAM,IAAIC,KAAJ,CAAU,aAAV,CAAN;EACH;;EACD,MAAMC,UAAU,GAAGF,KAAK,CAACG,OAAN,CAAc,GAAd,CAAnB;EACA,MAAMC,IAAI,GAAGF,UAAU,KAAK,CAAC,CAAhB,GAAoBF,KAAK,CAACK,SAAN,CAAgB,CAAhB,EAAmBH,UAAnB,CAApB,GAAqD,IAAlE;EACA,MAAMI,SAAS,GAAG,SAAlB;EACA,MAAMC,CAAC,GAAGD,SAAS,CAACE,IAAV,CAAeR,KAAf,CAAV;EACA,MAAMS,IAAI,GAAGF,CAAC,KAAK,IAAN,GAAaG,MAAM,CAACH,CAAC,CAAC,CAAD,CAAF,CAAnB,GAA4B,IAAzC;EACA,MAAMI,IAAI,GAAGJ,CAAC,KAAK,IAAN,GAAaP,KAAK,CAACK,SAAN,CAAgBH,UAAU,GAAG,CAA7B,EAAgCF,KAAK,CAACY,MAAN,GAAeL,CAAC,CAAC,CAAD,CAAD,CAAKK,MAApB,GAA6B,CAA7D,CAAb,GAA+EZ,KAAK,CAACK,SAAN,CAAgBH,UAAU,GAAG,CAA7B,CAA5F;EACA,OAAO,CAACE,IAAD,EAAOO,IAAP,EAAaF,IAAb,CAAP;AACH;;AACD,SAASI,eAAT,CAAyBC,CAAzB,EAA4B;EACxB,OAAQ,IAAGA,CAAE,GAAb;AACH;;AACD,SAASC,iBAAT,CAA2Bf,KAA3B,EAAkC;EAC9B,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAAC,CAAD,CAAL,KAAa,GAA1C,IAAiDA,KAAK,CAACA,KAAK,CAACY,MAAN,GAAe,CAAhB,CAAL,KAA4B,GAAjF,EAAsF;IAClF,MAAM,IAAIX,KAAJ,CAAU,aAAV,CAAN;EACH;;EACD,OAAOD,KAAK,CAACK,SAAN,CAAgB,CAAhB,EAAmBL,KAAK,CAACY,MAAN,GAAe,CAAlC,CAAP;AACH;;AACD,OAAO,SAASI,YAAT,CAAsBC,WAAtB,EAAmC;EACtC,MAAMC,CAAC,GAAGD,WAAW,IAAI,EAAzB;EACA,MAAMxB,IAAI,GAAGyB,CAAC,CAACzB,IAAf;EACA,MAAM0B,YAAY,GAAG,CAACpC,MAAM,CAAC;IAAEU;EAAF,CAAD,CAAP,EAChB2B,MADgB,CACTF,CAAC,CAACG,QAAF,KAAe,IAAf,GAAsB,CAACrC,IAAI,EAAL,CAAtB,GAAiC,EADxB,EAEhBoC,MAFgB,CAETF,CAAC,CAACI,QAAF,KAAe,IAAf,GAAsB,CAACpC,IAAI,GAAGqC,GAAP,CAAWV,eAAX,EAA4BE,iBAA5B,CAAD,CAAtB,GAAyE,EAFhE,EAGhBK,MAHgB,CAGTF,CAAC,CAACM,gBAAF,KAAuB,IAAvB,GAA8B,CAACvC,YAAY,EAAb,CAA9B,GAAiD,EAHxC,CAArB;EAIA,OAAOM,KAAK,CAAC2B,CAAC,CAACO,YAAF,KAAmB,IAAnB,GAA0BpC,MAAM,CAACG,YAAY,CAACC,IAAD,CAAb,CAAhC,GAAuDX,QAAQ,CAAC,IAAD,CAAhE,EAAwEM,KAAK,CAAC,GAAG+B,YAAJ,CAA7E,EAAgGD,CAAC,CAACQ,QAAF,KAAe,IAAf,GAAsBrC,MAAM,CAACF,GAAG,CAAC,KAAD,CAAJ,CAA5B,GAA2CL,QAAQ,CAAC,IAAD,CAAnJ,CAAL,CAAgKyC,GAAhK,CAAoK5B,kBAApK,EAAwLI,oBAAxL,CAAP;AACH"},"metadata":{},"sourceType":"module"}