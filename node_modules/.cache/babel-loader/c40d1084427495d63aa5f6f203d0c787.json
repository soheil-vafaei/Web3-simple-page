{"ast":null,"code":"import { bigUintN } from '../bigUintN.js';\nimport { Arbitrary } from '../../check/arbitrary/definition/Arbitrary.js';\nimport { Value } from '../../check/arbitrary/definition/Value.js';\nimport { makeLazy } from '../../stream/LazyIterableIterator.js';\nimport { applyFlagsOnChars, computeFlagsFromChars, computeNextFlags, computeTogglePositions } from './helpers/ToggleFlags.js';\nexport class MixedCaseArbitrary extends Arbitrary {\n  constructor(stringArb, toggleCase, untoggleAll) {\n    super();\n    this.stringArb = stringArb;\n    this.toggleCase = toggleCase;\n    this.untoggleAll = untoggleAll;\n  }\n\n  buildContextFor(rawStringValue, flagsValue) {\n    return {\n      rawString: rawStringValue.value,\n      rawStringContext: rawStringValue.context,\n      flags: flagsValue.value,\n      flagsContext: flagsValue.context\n    };\n  }\n\n  generate(mrng, biasFactor) {\n    const rawStringValue = this.stringArb.generate(mrng, biasFactor);\n    const chars = [...rawStringValue.value];\n    const togglePositions = computeTogglePositions(chars, this.toggleCase);\n    const flagsArb = bigUintN(togglePositions.length);\n    const flagsValue = flagsArb.generate(mrng, undefined);\n    applyFlagsOnChars(chars, flagsValue.value, togglePositions, this.toggleCase);\n    return new Value(chars.join(''), this.buildContextFor(rawStringValue, flagsValue));\n  }\n\n  canShrinkWithoutContext(value) {\n    if (typeof value !== 'string') {\n      return false;\n    }\n\n    return this.untoggleAll !== undefined ? this.stringArb.canShrinkWithoutContext(this.untoggleAll(value)) : this.stringArb.canShrinkWithoutContext(value);\n  }\n\n  shrink(value, context) {\n    let contextSafe;\n\n    if (context !== undefined) {\n      contextSafe = context;\n    } else {\n      if (this.untoggleAll !== undefined) {\n        const untoggledValue = this.untoggleAll(value);\n        const valueChars = [...value];\n        const untoggledValueChars = [...untoggledValue];\n        const togglePositions = computeTogglePositions(untoggledValueChars, this.toggleCase);\n        contextSafe = {\n          rawString: untoggledValue,\n          rawStringContext: undefined,\n          flags: computeFlagsFromChars(untoggledValueChars, valueChars, togglePositions),\n          flagsContext: undefined\n        };\n      } else {\n        contextSafe = {\n          rawString: value,\n          rawStringContext: undefined,\n          flags: BigInt(0),\n          flagsContext: undefined\n        };\n      }\n    }\n\n    const rawString = contextSafe.rawString;\n    const flags = contextSafe.flags;\n    return this.stringArb.shrink(rawString, contextSafe.rawStringContext).map(nRawStringValue => {\n      const nChars = [...nRawStringValue.value];\n      const nTogglePositions = computeTogglePositions(nChars, this.toggleCase);\n      const nFlags = computeNextFlags(flags, nTogglePositions.length);\n      applyFlagsOnChars(nChars, nFlags, nTogglePositions, this.toggleCase);\n      return new Value(nChars.join(''), this.buildContextFor(nRawStringValue, new Value(nFlags, undefined)));\n    }).join(makeLazy(() => {\n      const chars = [...rawString];\n      const togglePositions = computeTogglePositions(chars, this.toggleCase);\n      return bigUintN(togglePositions.length).shrink(flags, contextSafe.flagsContext).map(nFlagsValue => {\n        const nChars = chars.slice();\n        applyFlagsOnChars(nChars, nFlagsValue.value, togglePositions, this.toggleCase);\n        return new Value(nChars.join(''), this.buildContextFor(new Value(rawString, contextSafe.rawStringContext), nFlagsValue));\n      });\n    }));\n  }\n\n}","map":{"version":3,"names":["bigUintN","Arbitrary","Value","makeLazy","applyFlagsOnChars","computeFlagsFromChars","computeNextFlags","computeTogglePositions","MixedCaseArbitrary","constructor","stringArb","toggleCase","untoggleAll","buildContextFor","rawStringValue","flagsValue","rawString","value","rawStringContext","context","flags","flagsContext","generate","mrng","biasFactor","chars","togglePositions","flagsArb","length","undefined","join","canShrinkWithoutContext","shrink","contextSafe","untoggledValue","valueChars","untoggledValueChars","BigInt","map","nRawStringValue","nChars","nTogglePositions","nFlags","nFlagsValue","slice"],"sources":["/Users/soheilvafaei/Documents/resume/Web3/web3 simple react web3 js/node_modules/fast-check/lib/esm/arbitrary/_internals/MixedCaseArbitrary.js"],"sourcesContent":["import { bigUintN } from '../bigUintN.js';\nimport { Arbitrary } from '../../check/arbitrary/definition/Arbitrary.js';\nimport { Value } from '../../check/arbitrary/definition/Value.js';\nimport { makeLazy } from '../../stream/LazyIterableIterator.js';\nimport { applyFlagsOnChars, computeFlagsFromChars, computeNextFlags, computeTogglePositions, } from './helpers/ToggleFlags.js';\nexport class MixedCaseArbitrary extends Arbitrary {\n    constructor(stringArb, toggleCase, untoggleAll) {\n        super();\n        this.stringArb = stringArb;\n        this.toggleCase = toggleCase;\n        this.untoggleAll = untoggleAll;\n    }\n    buildContextFor(rawStringValue, flagsValue) {\n        return {\n            rawString: rawStringValue.value,\n            rawStringContext: rawStringValue.context,\n            flags: flagsValue.value,\n            flagsContext: flagsValue.context,\n        };\n    }\n    generate(mrng, biasFactor) {\n        const rawStringValue = this.stringArb.generate(mrng, biasFactor);\n        const chars = [...rawStringValue.value];\n        const togglePositions = computeTogglePositions(chars, this.toggleCase);\n        const flagsArb = bigUintN(togglePositions.length);\n        const flagsValue = flagsArb.generate(mrng, undefined);\n        applyFlagsOnChars(chars, flagsValue.value, togglePositions, this.toggleCase);\n        return new Value(chars.join(''), this.buildContextFor(rawStringValue, flagsValue));\n    }\n    canShrinkWithoutContext(value) {\n        if (typeof value !== 'string') {\n            return false;\n        }\n        return this.untoggleAll !== undefined\n            ? this.stringArb.canShrinkWithoutContext(this.untoggleAll(value))\n            :\n                this.stringArb.canShrinkWithoutContext(value);\n    }\n    shrink(value, context) {\n        let contextSafe;\n        if (context !== undefined) {\n            contextSafe = context;\n        }\n        else {\n            if (this.untoggleAll !== undefined) {\n                const untoggledValue = this.untoggleAll(value);\n                const valueChars = [...value];\n                const untoggledValueChars = [...untoggledValue];\n                const togglePositions = computeTogglePositions(untoggledValueChars, this.toggleCase);\n                contextSafe = {\n                    rawString: untoggledValue,\n                    rawStringContext: undefined,\n                    flags: computeFlagsFromChars(untoggledValueChars, valueChars, togglePositions),\n                    flagsContext: undefined,\n                };\n            }\n            else {\n                contextSafe = {\n                    rawString: value,\n                    rawStringContext: undefined,\n                    flags: BigInt(0),\n                    flagsContext: undefined,\n                };\n            }\n        }\n        const rawString = contextSafe.rawString;\n        const flags = contextSafe.flags;\n        return this.stringArb\n            .shrink(rawString, contextSafe.rawStringContext)\n            .map((nRawStringValue) => {\n            const nChars = [...nRawStringValue.value];\n            const nTogglePositions = computeTogglePositions(nChars, this.toggleCase);\n            const nFlags = computeNextFlags(flags, nTogglePositions.length);\n            applyFlagsOnChars(nChars, nFlags, nTogglePositions, this.toggleCase);\n            return new Value(nChars.join(''), this.buildContextFor(nRawStringValue, new Value(nFlags, undefined)));\n        })\n            .join(makeLazy(() => {\n            const chars = [...rawString];\n            const togglePositions = computeTogglePositions(chars, this.toggleCase);\n            return bigUintN(togglePositions.length)\n                .shrink(flags, contextSafe.flagsContext)\n                .map((nFlagsValue) => {\n                const nChars = chars.slice();\n                applyFlagsOnChars(nChars, nFlagsValue.value, togglePositions, this.toggleCase);\n                return new Value(nChars.join(''), this.buildContextFor(new Value(rawString, contextSafe.rawStringContext), nFlagsValue));\n            });\n        }));\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}