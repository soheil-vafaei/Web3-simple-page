{"ast":null,"code":"import { Arbitrary } from '../../check/arbitrary/definition/Arbitrary.js';\nimport { Value } from '../../check/arbitrary/definition/Value.js';\nimport { cloneMethod } from '../../check/symbols.js';\nimport { Stream } from '../../stream/Stream.js';\nimport { asyncStringify, asyncToStringMethod, stringify, toStringMethod } from '../../utils/stringify.js';\n\nfunction prettyPrint(seenValuesStrings) {\n  return `Stream(${seenValuesStrings.join(',')}…)`;\n}\n\nexport class StreamArbitrary extends Arbitrary {\n  constructor(arb) {\n    super();\n    this.arb = arb;\n  }\n\n  generate(mrng, biasFactor) {\n    const appliedBiasFactor = biasFactor !== undefined && mrng.nextInt(1, biasFactor) === 1 ? biasFactor : undefined;\n\n    const enrichedProducer = () => {\n      const seenValues = [];\n\n      const g = function* (arb, clonedMrng) {\n        while (true) {\n          const value = arb.generate(clonedMrng, appliedBiasFactor).value;\n          seenValues.push(value);\n          yield value;\n        }\n      };\n\n      const s = new Stream(g(this.arb, mrng.clone()));\n      return Object.defineProperties(s, {\n        toString: {\n          value: () => prettyPrint(seenValues.map(stringify))\n        },\n        [toStringMethod]: {\n          value: () => prettyPrint(seenValues.map(stringify))\n        },\n        [asyncToStringMethod]: {\n          value: async () => prettyPrint(await Promise.all(seenValues.map(asyncStringify)))\n        },\n        [cloneMethod]: {\n          value: enrichedProducer,\n          enumerable: true\n        }\n      });\n    };\n\n    return new Value(enrichedProducer(), undefined);\n  }\n\n  canShrinkWithoutContext(value) {\n    return false;\n  }\n\n  shrink(_value, _context) {\n    return Stream.nil();\n  }\n\n}","map":{"version":3,"names":["Arbitrary","Value","cloneMethod","Stream","asyncStringify","asyncToStringMethod","stringify","toStringMethod","prettyPrint","seenValuesStrings","join","StreamArbitrary","constructor","arb","generate","mrng","biasFactor","appliedBiasFactor","undefined","nextInt","enrichedProducer","seenValues","g","clonedMrng","value","push","s","clone","Object","defineProperties","toString","map","Promise","all","enumerable","canShrinkWithoutContext","shrink","_value","_context","nil"],"sources":["/Users/soheilvafaei/Documents/resume/Web3/web3 simple react web3 js/node_modules/fast-check/lib/esm/arbitrary/_internals/StreamArbitrary.js"],"sourcesContent":["import { Arbitrary } from '../../check/arbitrary/definition/Arbitrary.js';\nimport { Value } from '../../check/arbitrary/definition/Value.js';\nimport { cloneMethod } from '../../check/symbols.js';\nimport { Stream } from '../../stream/Stream.js';\nimport { asyncStringify, asyncToStringMethod, stringify, toStringMethod } from '../../utils/stringify.js';\nfunction prettyPrint(seenValuesStrings) {\n    return `Stream(${seenValuesStrings.join(',')}…)`;\n}\nexport class StreamArbitrary extends Arbitrary {\n    constructor(arb) {\n        super();\n        this.arb = arb;\n    }\n    generate(mrng, biasFactor) {\n        const appliedBiasFactor = biasFactor !== undefined && mrng.nextInt(1, biasFactor) === 1 ? biasFactor : undefined;\n        const enrichedProducer = () => {\n            const seenValues = [];\n            const g = function* (arb, clonedMrng) {\n                while (true) {\n                    const value = arb.generate(clonedMrng, appliedBiasFactor).value;\n                    seenValues.push(value);\n                    yield value;\n                }\n            };\n            const s = new Stream(g(this.arb, mrng.clone()));\n            return Object.defineProperties(s, {\n                toString: { value: () => prettyPrint(seenValues.map(stringify)) },\n                [toStringMethod]: { value: () => prettyPrint(seenValues.map(stringify)) },\n                [asyncToStringMethod]: { value: async () => prettyPrint(await Promise.all(seenValues.map(asyncStringify))) },\n                [cloneMethod]: { value: enrichedProducer, enumerable: true },\n            });\n        };\n        return new Value(enrichedProducer(), undefined);\n    }\n    canShrinkWithoutContext(value) {\n        return false;\n    }\n    shrink(_value, _context) {\n        return Stream.nil();\n    }\n}\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,+CAA1B;AACA,SAASC,KAAT,QAAsB,2CAAtB;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,cAAT,EAAyBC,mBAAzB,EAA8CC,SAA9C,EAAyDC,cAAzD,QAA+E,0BAA/E;;AACA,SAASC,WAAT,CAAqBC,iBAArB,EAAwC;EACpC,OAAQ,UAASA,iBAAiB,CAACC,IAAlB,CAAuB,GAAvB,CAA4B,IAA7C;AACH;;AACD,OAAO,MAAMC,eAAN,SAA8BX,SAA9B,CAAwC;EAC3CY,WAAW,CAACC,GAAD,EAAM;IACb;IACA,KAAKA,GAAL,GAAWA,GAAX;EACH;;EACDC,QAAQ,CAACC,IAAD,EAAOC,UAAP,EAAmB;IACvB,MAAMC,iBAAiB,GAAGD,UAAU,KAAKE,SAAf,IAA4BH,IAAI,CAACI,OAAL,CAAa,CAAb,EAAgBH,UAAhB,MAAgC,CAA5D,GAAgEA,UAAhE,GAA6EE,SAAvG;;IACA,MAAME,gBAAgB,GAAG,MAAM;MAC3B,MAAMC,UAAU,GAAG,EAAnB;;MACA,MAAMC,CAAC,GAAG,WAAWT,GAAX,EAAgBU,UAAhB,EAA4B;QAClC,OAAO,IAAP,EAAa;UACT,MAAMC,KAAK,GAAGX,GAAG,CAACC,QAAJ,CAAaS,UAAb,EAAyBN,iBAAzB,EAA4CO,KAA1D;UACAH,UAAU,CAACI,IAAX,CAAgBD,KAAhB;UACA,MAAMA,KAAN;QACH;MACJ,CAND;;MAOA,MAAME,CAAC,GAAG,IAAIvB,MAAJ,CAAWmB,CAAC,CAAC,KAAKT,GAAN,EAAWE,IAAI,CAACY,KAAL,EAAX,CAAZ,CAAV;MACA,OAAOC,MAAM,CAACC,gBAAP,CAAwBH,CAAxB,EAA2B;QAC9BI,QAAQ,EAAE;UAAEN,KAAK,EAAE,MAAMhB,WAAW,CAACa,UAAU,CAACU,GAAX,CAAezB,SAAf,CAAD;QAA1B,CADoB;QAE9B,CAACC,cAAD,GAAkB;UAAEiB,KAAK,EAAE,MAAMhB,WAAW,CAACa,UAAU,CAACU,GAAX,CAAezB,SAAf,CAAD;QAA1B,CAFY;QAG9B,CAACD,mBAAD,GAAuB;UAAEmB,KAAK,EAAE,YAAYhB,WAAW,CAAC,MAAMwB,OAAO,CAACC,GAAR,CAAYZ,UAAU,CAACU,GAAX,CAAe3B,cAAf,CAAZ,CAAP;QAAhC,CAHO;QAI9B,CAACF,WAAD,GAAe;UAAEsB,KAAK,EAAEJ,gBAAT;UAA2Bc,UAAU,EAAE;QAAvC;MAJe,CAA3B,CAAP;IAMH,CAhBD;;IAiBA,OAAO,IAAIjC,KAAJ,CAAUmB,gBAAgB,EAA1B,EAA8BF,SAA9B,CAAP;EACH;;EACDiB,uBAAuB,CAACX,KAAD,EAAQ;IAC3B,OAAO,KAAP;EACH;;EACDY,MAAM,CAACC,MAAD,EAASC,QAAT,EAAmB;IACrB,OAAOnC,MAAM,CAACoC,GAAP,EAAP;EACH;;AA/B0C"},"metadata":{},"sourceType":"module"}