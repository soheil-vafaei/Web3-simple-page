{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkLabels = void 0;\nObject.defineProperty(exports, \"decodeContenthash\", {\n  enumerable: true,\n  get: function get() {\n    return _contents.decodeContenthash;\n  }\n});\nObject.defineProperty(exports, \"decodeLabelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.decodeLabelhash;\n  }\n});\nexports.emptyAddress = void 0;\nObject.defineProperty(exports, \"encodeContenthash\", {\n  enumerable: true,\n  get: function get() {\n    return _contents.encodeContenthash;\n  }\n});\nObject.defineProperty(exports, \"encodeLabelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.encodeLabelhash;\n  }\n});\nexports.getEnsStartBlock = getEnsStartBlock;\nObject.defineProperty(exports, \"isDecrypted\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.isDecrypted;\n  }\n});\nObject.defineProperty(exports, \"isEncodedLabelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.isEncodedLabelhash;\n  }\n});\nexports.isLabelValid = isLabelValid;\nObject.defineProperty(exports, \"isValidContenthash\", {\n  enumerable: true,\n  get: function get() {\n    return _contents.isValidContenthash;\n  }\n});\nObject.defineProperty(exports, \"labelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.labelhash;\n  }\n});\nexports.mergeLabels = void 0;\nObject.defineProperty(exports, \"namehash\", {\n  enumerable: true,\n  get: function get() {\n    return _namehash.namehash;\n  }\n});\nexports.uniq = exports.parseSearchTerm = void 0;\nexports.validateName = validateName;\n\nvar _ethers = require(\"ethers\");\n\nvar _labelhash = require(\"./labelhash\");\n\nvar _contents = require(\"./contents\");\n\nvar _ethEnsNamehash = require(\"eth-ens-namehash\");\n\nvar _namehash = require(\"./namehash\"); //import { checkLabelHash } from '../updaters/preImageDB'\n\n\nvar uniq = function uniq(a, param) {\n  return a.filter(function (item, pos) {\n    return a.map(function (mapItem) {\n      return mapItem[param];\n    }).indexOf(item[param]) === pos;\n  });\n};\n\nexports.uniq = uniq;\n\nvar checkLabels = function checkLabels() {\n  for (var _len = arguments.length, labelHashes = new Array(_len), _key = 0; _key < _len; _key++) {\n    labelHashes[_key] = arguments[_key];\n  }\n\n  return labelHashes.map(function (hash) {\n    return null;\n  });\n};\n\nexports.checkLabels = checkLabels;\n\nfunction getEnsStartBlock(networkId) {\n  switch (networkId) {\n    case 1:\n    case '1':\n      return 3327417;\n\n    case 3:\n    case '3':\n      return 25409;\n\n    default:\n      return 0;\n  }\n} // export const checkLabels = (...labelHashes) =>\n//   labelHashes.map(labelHash => checkLabelHash(labelHash) || null)\n\n\nvar mergeLabels = function mergeLabels(labels1, labels2) {\n  return labels1.map(function (label, index) {\n    return label ? label : labels2[index];\n  });\n};\n\nexports.mergeLabels = mergeLabels;\n\nfunction validateName(name) {\n  var nameArray = name.split('.');\n  var hasEmptyLabels = nameArray.filter(function (e) {\n    return e.length < 1;\n  }).length > 0;\n  if (hasEmptyLabels) throw new Error('Domain cannot have empty labels');\n  var normalizedArray = nameArray.map(function (label) {\n    return (0, _labelhash.isEncodedLabelhash)(label) ? label : (0, _ethEnsNamehash.normalize)(label);\n  });\n\n  try {\n    return normalizedArray.join('.');\n  } catch (e) {\n    throw e;\n  }\n}\n\nfunction isLabelValid(name) {\n  try {\n    validateName(name);\n\n    if (name.indexOf('.') === -1) {\n      return true;\n    }\n  } catch (e) {\n    console.log(e);\n    return false;\n  }\n}\n\nvar parseSearchTerm = function parseSearchTerm(term, validTld) {\n  var regex = /[^.]+$/;\n\n  try {\n    validateName(term);\n  } catch (e) {\n    return 'invalid';\n  }\n\n  if (term.indexOf('.') !== -1) {\n    var termArray = term.split('.');\n    var tld = term.match(regex) ? term.match(regex)[0] : '';\n\n    if (validTld) {\n      if (tld === 'eth' && termArray[termArray.length - 2].length < 3) {\n        return 'short';\n      }\n\n      return 'supported';\n    }\n\n    return 'unsupported';\n  } else if (_ethers.ethers.utils.isAddress(term)) {\n    return 'address';\n  } else {\n    //check if the search term is actually a tld\n    if (validTld) {\n      return 'tld';\n    }\n\n    return 'search';\n  }\n};\n\nexports.parseSearchTerm = parseSearchTerm;\nvar emptyAddress = '0x0000000000000000000000000000000000000000';\nexports.emptyAddress = emptyAddress;","map":{"version":3,"names":["Object","defineProperty","exports","value","checkLabels","enumerable","get","_contents","decodeContenthash","_labelhash","decodeLabelhash","emptyAddress","encodeContenthash","encodeLabelhash","getEnsStartBlock","isDecrypted","isEncodedLabelhash","isLabelValid","isValidContenthash","labelhash","mergeLabels","_namehash","namehash","uniq","parseSearchTerm","validateName","_ethers","require","_ethEnsNamehash","a","param","filter","item","pos","map","mapItem","indexOf","_len","arguments","length","labelHashes","Array","_key","hash","networkId","labels1","labels2","label","index","name","nameArray","split","hasEmptyLabels","e","Error","normalizedArray","normalize","join","console","log","term","validTld","regex","termArray","tld","match","ethers","utils","isAddress"],"sources":["/Users/soheilvafaei/Documents/project/web/resume/ex7/node_modules/@ensdomains/ensjs/dist/utils/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkLabels = void 0;\nObject.defineProperty(exports, \"decodeContenthash\", {\n  enumerable: true,\n  get: function get() {\n    return _contents.decodeContenthash;\n  }\n});\nObject.defineProperty(exports, \"decodeLabelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.decodeLabelhash;\n  }\n});\nexports.emptyAddress = void 0;\nObject.defineProperty(exports, \"encodeContenthash\", {\n  enumerable: true,\n  get: function get() {\n    return _contents.encodeContenthash;\n  }\n});\nObject.defineProperty(exports, \"encodeLabelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.encodeLabelhash;\n  }\n});\nexports.getEnsStartBlock = getEnsStartBlock;\nObject.defineProperty(exports, \"isDecrypted\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.isDecrypted;\n  }\n});\nObject.defineProperty(exports, \"isEncodedLabelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.isEncodedLabelhash;\n  }\n});\nexports.isLabelValid = isLabelValid;\nObject.defineProperty(exports, \"isValidContenthash\", {\n  enumerable: true,\n  get: function get() {\n    return _contents.isValidContenthash;\n  }\n});\nObject.defineProperty(exports, \"labelhash\", {\n  enumerable: true,\n  get: function get() {\n    return _labelhash.labelhash;\n  }\n});\nexports.mergeLabels = void 0;\nObject.defineProperty(exports, \"namehash\", {\n  enumerable: true,\n  get: function get() {\n    return _namehash.namehash;\n  }\n});\nexports.uniq = exports.parseSearchTerm = void 0;\nexports.validateName = validateName;\n\nvar _ethers = require(\"ethers\");\n\nvar _labelhash = require(\"./labelhash\");\n\nvar _contents = require(\"./contents\");\n\nvar _ethEnsNamehash = require(\"eth-ens-namehash\");\n\nvar _namehash = require(\"./namehash\");\n\n//import { checkLabelHash } from '../updaters/preImageDB'\nvar uniq = function uniq(a, param) {\n  return a.filter(function (item, pos) {\n    return a.map(function (mapItem) {\n      return mapItem[param];\n    }).indexOf(item[param]) === pos;\n  });\n};\n\nexports.uniq = uniq;\n\nvar checkLabels = function checkLabels() {\n  for (var _len = arguments.length, labelHashes = new Array(_len), _key = 0; _key < _len; _key++) {\n    labelHashes[_key] = arguments[_key];\n  }\n\n  return labelHashes.map(function (hash) {\n    return null;\n  });\n};\n\nexports.checkLabels = checkLabels;\n\nfunction getEnsStartBlock(networkId) {\n  switch (networkId) {\n    case 1:\n    case '1':\n      return 3327417;\n\n    case 3:\n    case '3':\n      return 25409;\n\n    default:\n      return 0;\n  }\n} // export const checkLabels = (...labelHashes) =>\n//   labelHashes.map(labelHash => checkLabelHash(labelHash) || null)\n\n\nvar mergeLabels = function mergeLabels(labels1, labels2) {\n  return labels1.map(function (label, index) {\n    return label ? label : labels2[index];\n  });\n};\n\nexports.mergeLabels = mergeLabels;\n\nfunction validateName(name) {\n  var nameArray = name.split('.');\n  var hasEmptyLabels = nameArray.filter(function (e) {\n    return e.length < 1;\n  }).length > 0;\n  if (hasEmptyLabels) throw new Error('Domain cannot have empty labels');\n  var normalizedArray = nameArray.map(function (label) {\n    return (0, _labelhash.isEncodedLabelhash)(label) ? label : (0, _ethEnsNamehash.normalize)(label);\n  });\n\n  try {\n    return normalizedArray.join('.');\n  } catch (e) {\n    throw e;\n  }\n}\n\nfunction isLabelValid(name) {\n  try {\n    validateName(name);\n\n    if (name.indexOf('.') === -1) {\n      return true;\n    }\n  } catch (e) {\n    console.log(e);\n    return false;\n  }\n}\n\nvar parseSearchTerm = function parseSearchTerm(term, validTld) {\n  var regex = /[^.]+$/;\n\n  try {\n    validateName(term);\n  } catch (e) {\n    return 'invalid';\n  }\n\n  if (term.indexOf('.') !== -1) {\n    var termArray = term.split('.');\n    var tld = term.match(regex) ? term.match(regex)[0] : '';\n\n    if (validTld) {\n      if (tld === 'eth' && termArray[termArray.length - 2].length < 3) {\n        return 'short';\n      }\n\n      return 'supported';\n    }\n\n    return 'unsupported';\n  } else if (_ethers.ethers.utils.isAddress(term)) {\n    return 'address';\n  } else {\n    //check if the search term is actually a tld\n    if (validTld) {\n      return 'tld';\n    }\n\n    return 'search';\n  }\n};\n\nexports.parseSearchTerm = parseSearchTerm;\nvar emptyAddress = '0x0000000000000000000000000000000000000000';\nexports.emptyAddress = emptyAddress;"],"mappings":"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"},"metadata":{},"sourceType":"script"}