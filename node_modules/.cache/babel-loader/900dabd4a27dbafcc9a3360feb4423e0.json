{"ast":null,"code":"// While filters are precompiled, pseudos get called when they are needed\nexport const pseudos = {\n  empty(elem, _ref) {\n    let {\n      adapter\n    } = _ref;\n    return !adapter.getChildren(elem).some(elem => // FIXME: `getText` call is potentially expensive.\n    adapter.isTag(elem) || adapter.getText(elem) !== \"\");\n  },\n\n  \"first-child\"(elem, _ref2) {\n    let {\n      adapter,\n      equals\n    } = _ref2;\n\n    if (adapter.prevElementSibling) {\n      return adapter.prevElementSibling(elem) == null;\n    }\n\n    const firstChild = adapter.getSiblings(elem).find(elem => adapter.isTag(elem));\n    return firstChild != null && equals(elem, firstChild);\n  },\n\n  \"last-child\"(elem, _ref3) {\n    let {\n      adapter,\n      equals\n    } = _ref3;\n    const siblings = adapter.getSiblings(elem);\n\n    for (let i = siblings.length - 1; i >= 0; i--) {\n      if (equals(elem, siblings[i])) return true;\n      if (adapter.isTag(siblings[i])) break;\n    }\n\n    return false;\n  },\n\n  \"first-of-type\"(elem, _ref4) {\n    let {\n      adapter,\n      equals\n    } = _ref4;\n    const siblings = adapter.getSiblings(elem);\n    const elemName = adapter.getName(elem);\n\n    for (let i = 0; i < siblings.length; i++) {\n      const currentSibling = siblings[i];\n      if (equals(elem, currentSibling)) return true;\n\n      if (adapter.isTag(currentSibling) && adapter.getName(currentSibling) === elemName) {\n        break;\n      }\n    }\n\n    return false;\n  },\n\n  \"last-of-type\"(elem, _ref5) {\n    let {\n      adapter,\n      equals\n    } = _ref5;\n    const siblings = adapter.getSiblings(elem);\n    const elemName = adapter.getName(elem);\n\n    for (let i = siblings.length - 1; i >= 0; i--) {\n      const currentSibling = siblings[i];\n      if (equals(elem, currentSibling)) return true;\n\n      if (adapter.isTag(currentSibling) && adapter.getName(currentSibling) === elemName) {\n        break;\n      }\n    }\n\n    return false;\n  },\n\n  \"only-of-type\"(elem, _ref6) {\n    let {\n      adapter,\n      equals\n    } = _ref6;\n    const elemName = adapter.getName(elem);\n    return adapter.getSiblings(elem).every(sibling => equals(elem, sibling) || !adapter.isTag(sibling) || adapter.getName(sibling) !== elemName);\n  },\n\n  \"only-child\"(elem, _ref7) {\n    let {\n      adapter,\n      equals\n    } = _ref7;\n    return adapter.getSiblings(elem).every(sibling => equals(elem, sibling) || !adapter.isTag(sibling));\n  }\n\n};\nexport function verifyPseudoArgs(func, name, subselect, argIndex) {\n  if (subselect === null) {\n    if (func.length > argIndex) {\n      throw new Error(`Pseudo-class :${name} requires an argument`);\n    }\n  } else if (func.length === argIndex) {\n    throw new Error(`Pseudo-class :${name} doesn't have any arguments`);\n  }\n}","map":{"version":3,"mappings":"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","names":["pseudos","empty","elem","adapter","getChildren","some","isTag","getText","equals","prevElementSibling","firstChild","getSiblings","find","siblings","i","length","elemName","getName","currentSibling","every","sibling","verifyPseudoArgs","func","name","subselect","argIndex","Error"],"sourceRoot":"https://raw.githubusercontent.com/fb55/css-select/0f0725a9dfeddd2fdb54eda9656cdbab5bbf6be6/src/","sources":["pseudo-selectors/pseudos.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}