{"ast":null,"code":"import { isTag, hasChildren } from \"domhandler\";\n/**\n * Get a node's children.\n *\n * @category Traversal\n * @param elem Node to get the children of.\n * @returns `elem`'s children, or an empty array.\n */\n\nexport function getChildren(elem) {\n  return hasChildren(elem) ? elem.children : [];\n}\n/**\n * Get a node's parent.\n *\n * @category Traversal\n * @param elem Node to get the parent of.\n * @returns `elem`'s parent node.\n */\n\nexport function getParent(elem) {\n  return elem.parent || null;\n}\n/**\n * Gets an elements siblings, including the element itself.\n *\n * Attempts to get the children through the element's parent first. If we don't\n * have a parent (the element is a root node), we walk the element's `prev` &\n * `next` to get all remaining nodes.\n *\n * @category Traversal\n * @param elem Element to get the siblings of.\n * @returns `elem`'s siblings.\n */\n\nexport function getSiblings(elem) {\n  const parent = getParent(elem);\n  if (parent != null) return getChildren(parent);\n  const siblings = [elem];\n  let {\n    prev,\n    next\n  } = elem;\n\n  while (prev != null) {\n    siblings.unshift(prev);\n    ({\n      prev\n    } = prev);\n  }\n\n  while (next != null) {\n    siblings.push(next);\n    ({\n      next\n    } = next);\n  }\n\n  return siblings;\n}\n/**\n * Gets an attribute from an element.\n *\n * @category Traversal\n * @param elem Element to check.\n * @param name Attribute name to retrieve.\n * @returns The element's attribute value, or `undefined`.\n */\n\nexport function getAttributeValue(elem, name) {\n  var _a;\n\n  return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];\n}\n/**\n * Checks whether an element has an attribute.\n *\n * @category Traversal\n * @param elem Element to check.\n * @param name Attribute name to look for.\n * @returns Returns whether `elem` has the attribute `name`.\n */\n\nexport function hasAttrib(elem, name) {\n  return elem.attribs != null && Object.prototype.hasOwnProperty.call(elem.attribs, name) && elem.attribs[name] != null;\n}\n/**\n * Get the tag name of an element.\n *\n * @category Traversal\n * @param elem The element to get the name for.\n * @returns The tag name of `elem`.\n */\n\nexport function getName(elem) {\n  return elem.name;\n}\n/**\n * Returns the next element sibling of a node.\n *\n * @category Traversal\n * @param elem The element to get the next sibling of.\n * @returns `elem`'s next sibling that is a tag.\n */\n\nexport function nextElementSibling(elem) {\n  let {\n    next\n  } = elem;\n\n  while (next !== null && !isTag(next)) ({\n    next\n  } = next);\n\n  return next;\n}\n/**\n * Returns the previous element sibling of a node.\n *\n * @category Traversal\n * @param elem The element to get the previous sibling of.\n * @returns `elem`'s previous sibling that is a tag.\n */\n\nexport function prevElementSibling(elem) {\n  let {\n    prev\n  } = elem;\n\n  while (prev !== null && !isTag(prev)) ({\n    prev\n  } = prev);\n\n  return prev;\n}","map":{"version":3,"mappings":"AAAA,SACIA,KADJ,EAMIC,WANJ,QAOO,YAPP;AASA;;;;;;;;AAOA,OAAM,SAAUC,WAAV,CAAsBC,IAAtB,EAAmC;EACrC,OAAOF,WAAW,CAACE,IAAD,CAAX,GAAoBA,IAAI,CAACC,QAAzB,GAAoC,EAA3C;AACH;AAGD;;;;;;;;AAOA,OAAM,SAAUC,SAAV,CAAoBF,IAApB,EAAiC;EACnC,OAAOA,IAAI,CAACG,MAAL,IAAe,IAAtB;AACH;AAED;;;;;;;;;;;;AAWA,OAAM,SAAUC,WAAV,CAAsBJ,IAAtB,EAAmC;EACrC,MAAMG,MAAM,GAAGD,SAAS,CAACF,IAAD,CAAxB;EACA,IAAIG,MAAM,IAAI,IAAd,EAAoB,OAAOJ,WAAW,CAACI,MAAD,CAAlB;EAEpB,MAAME,QAAQ,GAAG,CAACL,IAAD,CAAjB;EACA,IAAI;IAAEM,IAAF;IAAQC;EAAR,IAAiBP,IAArB;;EACA,OAAOM,IAAI,IAAI,IAAf,EAAqB;IACjBD,QAAQ,CAACG,OAAT,CAAiBF,IAAjB;IACA,CAAC;MAAEA;IAAF,IAAWA,IAAZ;EACH;;EACD,OAAOC,IAAI,IAAI,IAAf,EAAqB;IACjBF,QAAQ,CAACI,IAAT,CAAcF,IAAd;IACA,CAAC;MAAEA;IAAF,IAAWA,IAAZ;EACH;;EACD,OAAOF,QAAP;AACH;AAED;;;;;;;;;AAQA,OAAM,SAAUK,iBAAV,CACFV,IADE,EAEFW,IAFE,EAEU;;;EAEZ,OAAO,UAAI,CAACC,OAAL,MAAY,IAAZ,IAAYC,aAAZ,GAAY,MAAZ,GAAYA,GAAGF,IAAH,CAAnB;AACH;AAED;;;;;;;;;AAQA,OAAM,SAAUG,SAAV,CAAoBd,IAApB,EAAmCW,IAAnC,EAA+C;EACjD,OACIX,IAAI,CAACY,OAAL,IAAgB,IAAhB,IACAG,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqClB,IAAI,CAACY,OAA1C,EAAmDD,IAAnD,CADA,IAEAX,IAAI,CAACY,OAAL,CAAaD,IAAb,KAAsB,IAH1B;AAKH;AAED;;;;;;;;AAOA,OAAM,SAAUQ,OAAV,CAAkBnB,IAAlB,EAA+B;EACjC,OAAOA,IAAI,CAACW,IAAZ;AACH;AAED;;;;;;;;AAOA,OAAM,SAAUS,kBAAV,CAA6BpB,IAA7B,EAA0C;EAC5C,IAAI;IAAEO;EAAF,IAAWP,IAAf;;EACA,OAAOO,IAAI,KAAK,IAAT,IAAiB,CAACV,KAAK,CAACU,IAAD,CAA9B,EAAsC,CAAC;IAAEA;EAAF,IAAWA,IAAZ;;EACtC,OAAOA,IAAP;AACH;AAED;;;;;;;;AAOA,OAAM,SAAUc,kBAAV,CAA6BrB,IAA7B,EAA0C;EAC5C,IAAI;IAAEM;EAAF,IAAWN,IAAf;;EACA,OAAOM,IAAI,KAAK,IAAT,IAAiB,CAACT,KAAK,CAACS,IAAD,CAA9B,EAAsC,CAAC;IAAEA;EAAF,IAAWA,IAAZ;;EACtC,OAAOA,IAAP;AACH","names":["isTag","hasChildren","getChildren","elem","children","getParent","parent","getSiblings","siblings","prev","next","unshift","push","getAttributeValue","name","attribs","_a","hasAttrib","Object","prototype","hasOwnProperty","call","getName","nextElementSibling","prevElementSibling"],"sourceRoot":"https://raw.githubusercontent.com/fb55/domutils/f7e357b5c210b6731c2a60e0b7b3cfaa1f96b706/src/","sources":["traversal.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}